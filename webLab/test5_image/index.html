<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Web test">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" > 
    <!-- UIkit CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.4.0/dist/css/uikit.min.css" />    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
    <title>Web Test5_image</title>
    <style> 
      #loading{
        background-color: rgb(255,255,255,0.85);
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 100000;
        display: flex;
        align-items: center;
        justify-content: center; 
        opacity: 0.75;
      }  
      .aligner {
        display: flex;
      }   
      .aligner-item {
        margin:auto;
        width: 90%; 
      }
      .mt{
        margin-top: 0.5em;
      }     
      @media screen and (min-width: 600px) {
        .aligner-item{ 
          width: 50%; 
        } 
      }
      @media screen and (min-width: 1024px) {
        .aligner-item{ 
          width: 30%; 
        } 
      } 
      .buzz{
        animation: tiembla 0.1s;
        animation-iteration-count: 3;
      }
      @keyframes tiembla{
        0%  { -webkit-transform:rotateZ(-1deg); }
        50% { -webkit-transform:rotateZ( 0deg) scale(.9); }
        100%{ -webkit-transform:rotateZ( 1deg); }
      }
      </style>
  </head>
  <body>   
    <div id="loading"> 
      <div uk-spinner="ratio: 3"></div>
    </div> 
    <div id="app" class="aligner">      
      <div class="aligner-item">   
        <div class="uk-inline uk-width-1-1" id="inputTextContainer">
          <span class="uk-form-icon" uk-icon="comment"></span>  
          <input class="uk-input" id="inputText" type="text" placeholder="write, please ..." placeholder="100">
        </div> 
        <div class="uk-width-1-1 uk-text-center mt">   
          <button class="uk-button uk-button-default uk-button-small" id="btnGo"><span class="uk-margin-small-right" uk-icon="happy"></span> Go! </button> 
        </div>  
      </div> 
    </div> 
    <div id="lightbox" uk-lightbox style="display: none;">
      <a class="uk-button uk-button-default" data-caption="" href="https://getuikit.com/docs/images/photo.jpg">Lightbox</a>
    </div> 
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <!-- UIkit JS -->
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.4.0/dist/js/uikit.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.4.0/dist/js/uikit-icons.min.js"></script> 
    <script type="text/javascript"> 
      (function exe(){   
        function onOffLoading(state){ 
          if(state){
            $('#loading').css({
              display: 'flex'
            });
          }else{
            $('#loading').css({
              display: 'none'
            });
          } 
        } 
        onOffLoading(true);  
           
        $('#inputText').on('focus',function(){ 
          $('#inputTextContainer span').attr('uk-icon','commenting');
          $('#inputTextContainer').addClass('buzz').on('webkitAnimationEnd oanimationend msAnimationEnd animationend', function(){ 
            $(this).removeClass('buzz'); 
          });
          $(document).on('keydown', function(e){ 
            if(e.keyCode===13){
              $(document).off('keydown');
              $('#btnGo').trigger('click');
            }
          }); 
        });    
        $('#inputText').on('focusout',function(){ 
          $('#inputTextContainer span').attr('uk-icon','comment');
        }); 
        $('#btnGo').on('click',function(){    
          search($('#inputText').val()); 
        });  
         
        function search(text){ 
          $('#lightbox a').attr('data-caption',text);  
          onOffLoading(true); 
          UIkit.lightbox('#lightbox').show(0);
          onOffLoading(false); 
          /*
          $.ajax({
            url: 
            type: 'get',  
            success: function (data){  
              onOffLoading(false); 
              console.log(data);
              UIkit.lightbox('#lightbox').show(0);  
            },
            error: function (jqXHR){  
              onOffLoading(false); 
              //alert('Error: '+jqXHR.status); 
            }
          });    
          */       
        }

        function resize(){      
          $('.aligner').innerHeight($(window).innerHeight());   
          onOffLoading(false);    
        }
        resize();
        $(window).on('resize',resize); 
      })();
    </script>
    <noscript>JAVASCRIPT NOT WORKING!</noscript>
  </body>
</html>
