<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui"> 
    <title>Web Test4_businessModelCanvas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" rel="stylesheet" type="text/css">  
    <style> 
      @media print{
        @page { 
          size: A4 landscape;
        }
        button{
          display: none;
        }
        .btn{
          display: none;
        }
        html{
          font-size: 0.75em;
        }
        #modelCanvas{  
          width: 1048px;
          margin: 2px 5px; 
        }
      } 
      .btnAddNote{
        top: 5px;
        right: 10px;
      }
    </style>
  </head>
  <body>  
    <nav id='menu' class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container-fluid">
        <span class="navbar-brand">Business Model Canvas: 
          <span id="nameCanvas" class="fw-bold">My Business</span> 
          <button id="idBtnNameCanvas" class="btn btn-outline-dark">
            <i class="fas fa-edit"></i>
          </button>
        </span> 
        <ul class="nav justify-content-end">
          <li class="nav-item ms-1 me-5"><button type="button" class="btn btn-outline-dark" id="idBtnPrint"><i class="fas fa-print"></i></button></li>  
          <li class="nav-item ms-1 me-1"><button type="button" class="btn btn-outline-dark" id="idBtnDelete"><i class="fas fa-trash"></i></button></li>
        </ul>  
      </div>
    </nav> 
    <div id="modelCanvas" class="m-1 ps-3 pe-3">
      <div class="row">
        <div class="col-2 mb-1 border border-dark rounded overflow-auto size1 canvas position-relative">
          <span class="btn badge rounded-pill bg-light text-dark position-absolute m-1 btnAddNote"><i class="fas fa-plus"></i></span>
          <p class="fs-5">Key partners <i class="fas fa-handshake"></i></p>
          <div class="alert alert-dark alert-dismissible fade show" role="alert">
            Who are your key partners/suppliers?<br>
            What are the motivations for the partnerships? 
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div> 
        </div>
        <div class="col-3 mb-1">
          <div class="col-12 ps-2 pe-2 mb-1 border border-dark rounded overflow-auto size2 canvas position-relative">
            <span class="btn badge rounded-pill bg-light text-dark position-absolute top-0 end-0 m-1 btnAddNote"><i class="fas fa-plus"></i></span>
            <p class="fs-5">Key activities <i class="fas fa-hiking"></i></p>
            <div class="alert alert-dark alert-dismissible fade show" role="alert">
              What key activities does your value proposition require?<br>
              What activities are important the most in distribution channels, customer relationships, revenue stream…? 
              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
          </div>
          <div class="col-12 ps-2 pe-2 border border-dark rounded overflow-auto size2 canvas position-relative">
            <span class="btn badge rounded-pill bg-light text-dark position-absolute top-0 end-0 m-1 btnAddNote"><i class="fas fa-plus"></i></span>
            <p class="fs-5">Key resources <i class="fas fa-key"></i></i></p>
            <div class="alert alert-dark alert-dismissible fade show" role="alert">
              What key resources does your value proposition require?<br>
              What resources are important the most in distribution channels, customer relationships, revenue stream…?
              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
          </div>
        </div>
        <div class="col-2 mb-1 border border-dark rounded overflow-auto size1 canvas position-relative">
          <span class="btn badge rounded-pill bg-light text-dark position-absolute top-0 end-0 m-1 btnAddNote"><i class="fas fa-plus"></i></span>
          <p class="fs-5">Value propositions <i class="fas fa-medal"></i></p>
          <div class="alert alert-success alert-dismissible fade show" role="alert">
            What core value do you deliver to the customer?<br>
            Which customer needs are you satisfying?
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        </div>
        <div class="col-3 mb-1">
          <div class="col-12 ps-2 pe-2 mb-1 border border-dark rounded overflow-auto size2 canvas position-relative">
            <span class="btn badge rounded-pill bg-light text-dark position-absolute top-0 end-0 m-1 btnAddNote"><i class="fas fa-plus"></i></span>
            <p class="fs-5">Customer relationship <i class="fas fa-link"></i></p>
            <div class="alert alert-dark alert-dismissible fade show" role="alert">
              What relationship that the target customer expects you to establish?<br>
              How can you integrate that into your business in terms of cost and format?
              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
          </div>
          <div class="col-12 ps-2 pe-2 border border-dark rounded overflow-auto size2 canvas position-relative">
            <span class="btn badge rounded-pill bg-light text-dark position-absolute top-0 end-0 m-1 btnAddNote"><i class="fas fa-plus"></i></span>
            <p class="fs-5">Channels <i class="fas fa-network-wired"></i></p> 
            <div class="alert alert-dark alert-dismissible fade show" role="alert"> 
              Through which channels that your customers want to be reached?<br>
              Which channels work best? How much do they cost? How can they be integrated into your and your customers’ routines?
              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
          </div>
        </div>
        <div class="col-2 mb-1 border border-dark rounded overflow-auto size1 canvas position-relative">
          <span class="btn badge rounded-pill bg-light text-dark position-absolute top-0 end-0 m-1 btnAddNote"><i class="fas fa-plus"></i></span>
          <p class="fs-5">Customer Segments <i class="fas fa-users"></i></p> 
          <div class="alert alert-danger alert-dismissible fade show" role="alert">
            Which classes are you creating values for?<br>
            Who is your most important customer?
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div> 
        </div>
      </div>
      <div class="row"> 
        <div class="col-6  border border-dark rounded overflow-auto size3 canvas position-relative">
          <span class="btn badge rounded-pill bg-light text-dark position-absolute top-0 end-0 m-1 btnAddNote"><i class="fas fa-plus"></i></span>
          <p class="fs-5">Cost structure <i class="fas fa-donate"></i></p>
          <div class="alert alert-dark alert-dismissible fade show" role="alert">
            What are the most cost in your business?<br>
            Which key resources/ activities are most expensive? 
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        </div>
        <div class="col-6 border border-dark rounded overflow-auto size3 canvas position-relative">
          <span class="btn badge rounded-pill bg-light text-dark position-absolute top-0 end-0 m-1 btnAddNote"><i class="fas fa-plus"></i></span>
          <p class="fs-5">Revanue Streams <i class="fas fa-coins"></i></p>
          <div class="alert alert-dark alert-dismissible fade show" role="alert"> 
            For what value are your customers willing to pay?<br>
            What and how do they recently pay? How would they prefer to pay?<br>
            How much does every revenue stream contribute to the overall revenues?
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        </div>
      </div>
    </div> 
    <!-- Modal -->
    <div class="modal fade" id="modal" tabindex="-1" maria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalLabel">Modal title</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="mb-3 displayGroup">
              <label class="form-label">Delete all note?</label> 
            </div> 
            <div class="mb-3 displayGroup">
              <label class="form-label">Business Name</label>
              <input type="text" class="form-control" id="inputNameCanvas" placeholder="My Business">
            </div> 
            <div class="form-row">
              <div class="col-md-12 mb-3">
                <div class="input-group displayGroup">
                  <span class="input-group-text">Color</span>
                  <select class="form-select" id="inputNoteColor"> 
                    <option value="alert-dark" selected>Black</option>
                    <option value="alert-danger">Red</option>
                    <option value="alert-success">Green</option>
                  </select>
                </div>  
              </div> 
              <div class="col-md-12 mb-3">
              <div class="input-group displayGroup">
                <span class="input-group-text">Add note</span>
                <textarea class="form-control" aria-label="With textarea" id="inputNoteText"></textarea>
              </div> 
            </div>
          </div> 
          <div class="modal-footer">
            <button type="button" class="btn btn-danger" data-dismiss="modal" aria-label="Close">Close</button>
            <button type="button" class="btn btn-success" id="idBtnAgree">Ok</button>
          </div>
        </div>
      </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>  
    <script type="text/javascript">
      /*global $, window, setTimeout, clearTimeout, Promise*/      
      var app = {   
        calcHeight: function(he){
          var h = $(window).height()-$('#menu').innerHeight()-15;
          if (he!==undefined){
            h=he;
          } 
          $('.size1').height(Math.floor(3*h/4));  
          $('.size2').height(Math.floor(3*h/4*1/2)-3);
          $('.size3').height(Math.floor(1*h/4)); 
        },
        resize: function(){
          $(window).on('resize',function(){ 
            app.calcHeight();
          }); 
        }, 
        showModal: function(){
           $('#modal').modal({
            keyboard: false,
            backdrop: 'static'
          }); 
        },
        hideModal: function(){
          $('#modal').modal('hide');
        },
        createModal: function(){  
          $('#modal').on('hidden.bs.modal', function(){ 
            $('#idBtnAgree').off('click'); 
            $('#modalLabel').html(' ');
            $('.displayGroup').css({
              display: 'none'
            });
            $('#inputNoteText').val(' '); 
            $('#inputNameCanvas').val($('#inputNameCanvas').text()); 
            $('#inputNoteColor').val('alert-dark');
          });
        },
        selectModalType: function(type,elem){
          $('#idBtnAgree').off('click'); 
          if(type==='nameCanvas'){
            $('#modalLabel').html('Business Model Canvas');
            $('.displayGroup').css({
              display: 'none'
            });
            $($('.displayGroup')[1]).css({
              display: 'block'
            });
            $('#inputNameCanvas').val($('#nameCanvas').text());
            app.showModal();
            $('#idBtnAgree').on('click',function(){
              $('#nameCanvas').html($('#inputNameCanvas').val());
              app.hideModal();
            });
          }
          if(type==='deleteCanvas'){
            $('#modalLabel').html('Reset');
            $('.displayGroup').css({
              display: 'none'
            });
            $($('.displayGroup')[0]).css({
              display: 'block'
            });
            app.showModal();
            $('#idBtnAgree').on('click',function(){
              app.hideModal();
              $('.alert').each(function(){
                $(this).children('button').trigger('click');
              });
            });  
          }
          if(type==='addNote'){ 
            $('.displayGroup').css({
              display: 'none'
            });
            $($('.displayGroup')[2]).css({
              display: 'flex'
            });
            $($('.displayGroup')[3]).css({
              display: 'flex'
            });
            $('#modalLabel').html('Add Note to '+$(elem).children('P').text());
            app.showModal();
            $('#idBtnAgree').on('click',function(){
              app.hideModal();
              $(elem).append('<div class="alert '+$('#inputNoteColor').val()+' alert-dismissible fade show" role="alert">'+$('#inputNoteText').val()+'<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button></div>');
            });  
          } 
          if(type==='printCanvas'){             
            app.print();
          }          
        }, 
        print: function(){ 
          var backup={};
          backup.title=document.title;  
          //preprint
          document.title='https://diegoee.github.io/webLab/test4_businessModelCanvas';   
          app.calcHeight(640); 
          window.print();    
          //restore            
          document.title=backup.title;  
          app.calcHeight();
        },
        init: function(){
          console.log('Web Test4_businessModelCanvas init');
          this.createModal(); 
          $('#idBtnDelete').on('click',function(){
            app.selectModalType('deleteCanvas');
          });
          $('#idBtnPrint').on('click',function(){ 
            app.selectModalType('printCanvas');  
          });
          $('#idBtnNameCanvas').on('click',function(){ 
            app.selectModalType('nameCanvas'); 
          }); 
          $('.btnAddNote').on('click',function(){ 
            app.selectModalType('addNote',$(this).parent()); 
          });    
          this.calcHeight();   
          this.resize();     
        }      
      };
      app.init();
    </script>
    <noscript>JAVASCRIPT NOT WORKING!</noscript>
  </body>
</html>
