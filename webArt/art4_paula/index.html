<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui"> 
    <title>Web Art4: Paula</title>  
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>      
      html, body{
        -webkit-user-select: none;  
        -khtml-user-select: none;  
          -moz-user-select: none;  
            -ms-user-select: none;  
                user-select: none; 
        -webkit-tap-highlight-color: transparent;
        font-family: Georgia, 'Times New Roman', Times, serif;
        background-color: #DDD;
        color: rgb(136, 0, 136); 
        overflow-y: hidden;
        overflow-x: hidden;
        margin: 0;
        padding: 0;
      }
    </style>   
  </head>
  <body>  
    <main></main>    
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>  
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js"></script>    
    <script type="text/javascript">  
      console.log('Exe start'); 
      //***** CANVAS APP ******//       
      //variables
      var bgcolor = '#DDD';
      var obj=[];
      var exe = false;
      var counter = 0;

      //aux Function and init action
      function resetVar(){ 
        counter = 0; 
        obj = [];
        obj.push({
          r: 136,
          g: 0,
          b: 136,
          o: 255,
          oInc: 0,
          d: ($(window).width()>$(window).height()?$(window).height()/5:$(window).width()/5), 
          dInc: 0.25,
          x: $(window).width()/2,
          y: $(window).height()/2
        });        
        obj.push({
          r: 156,
          g: 0,
          b: 156,
          o: 255,
          oInc: -15,
          d: 0, 
          dInc: 15,
          x: $(window).width()/2,
          y: $(window).height()/2
        });
      } 

      $(window).on('resize',function(){ 
        setup(); 
      });

      //p5 function: https://p5js.org/es/examples/
      function setup(){ 
        createCanvas($(window).width(), $(window).height());
        frameRate(60);
        resetVar(); 
      }
 
      function mouseClicked(){
        exe=!exe;
      } 

      resetVar();
      function draw(){   
        background(bgcolor);  
        noStroke(); 
        for(var i=0; i<obj.length; i++){
          fill(obj[i].r, obj[i].g, obj[i].b, obj[i].o);
          ellipse(obj[i].x, obj[i].y, obj[i].d, obj[i].d); 
        }
        if(exe){ 
          for(var i=0; i<obj.length; i++){ 
            obj[i].o=obj[i].o+obj[i].oInc;
            obj[i].d=obj[i].d+obj[i].dInc; 
          } 
          counter++;
          if(counter>60){ 
            resetVar();
          } 
        }else{
          resetVar();
        }
      } 
      
      console.log('Exe end'); 
    </script>
  </body>
</html>
