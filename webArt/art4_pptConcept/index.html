<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui"> 
    <title>Web Art4: ppt Concept</title> 
    <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css"> 
    <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"> 
    <style>
      html,body{   
        background-color: rgb(51, 51, 51);   
        -webkit-user-select: none;  
        -khtml-user-select: none;  
          -moz-user-select: none;  
            -ms-user-select: none;  
                user-select: none; 
        -webkit-tap-highlight-color: transparent; 
      }    
      #impress .slide{
        padding: 25px; 
        background-color: rgb(211, 211, 211); 
        border-radius: 20px; 
        opacity: 0.75;
        transition: opacity 0.25s;
        z-index: 1; 
        overflow-y: auto;  
        font-size: 175%; 
      }   
      #impress .slide.active {
        opacity: 1;
        z-index: 2; 
      }  
      #impress .notes{
        display: none;
      }
      .impress-progressbar {
        position: absolute;
        width: 600px;
        bottom: 25px;
        left: 50px;
        border-radius: 7px;
        border: 2px solid rgba(100, 100, 100, 1);
      }
      .impress-progressbar div {
        width: 0;
        height: 5px;
        border-radius: 5px;
        background: rgba(75, 75, 75, 1);
        transition: width 1s linear;
      }
      .impress-progress {
        position: absolute;
        right: 10px;
        bottom: 5px;
        text-align: left; 
        color: rgb(211, 211, 211); 
      }
      .impress-mouse-timeout {
        cursor: none;
      }  
      .impress-mouse-timeout div#impress-toolbar{
        display: none;
      } 
      .impress-enabled div#impress-toolbar {
        position: fixed;
        right: 1px;
        top: 1px; 
        z-index: 3;
        margin: 5px;
      }  
      #impress .centerVH{
        display: flex;
        align-items: center;
        justify-content: center;
      }
      a{
        text-decoration: none;
        color: rgb(33, 37, 41); 
      }
      a:hover{ 
        text-shadow: 0 0px 3px rgba(0, 0, 0, 0.25); 
      } 
      .input-group-text {
        background-color: transparent;
        border: none; 
        padding: 5px;  
      } 
      @page {
          size: A4;
          margin: 50px;
      }
      @media print {
        html, body {
          width: 210mm;
          height: 297mm;
        }
        body {
          width: 100%;
          height: 100%;   
        } 
        #helpModal{
          display: none;
        }
        #impress-toolbar{
          display: none;
        }
        .impress-progressbar{
          display: none;
        }
        .impress-progress{
          display: none;
        }   
        .slide{  
          page-break-before: always;
        }  
        #impress{
          display: none;
        } 
      }  
    </style>   
  </head>
  <body>     

    <div id="helpModal" class="modal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header">
            <h1>Ayuda</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <h2> 
              <span><button id="fullScreenBtn" class="btn btn-outline-secondary btn-sm" type="button" data-bs-dismiss="modal" aria-label="Close"><i class="fa fa-desktop"></i></button></span>
              Pantalla completa
            </h2>
            <p>Presionando <b>F5</b> / <b>ESC</b> entramos o slaimado de l modo pantalla completa</p>
            <h2> 
              <span><button id="consoleBtn" class="btn btn-outline-secondary btn-sm" type="button" data-bs-dismiss="modal" aria-label="Close"><i class="fa fa-flag"></i></button></span>
              Consola
            </h2> 
            <p>Presionando <b>P</b>: Entramos en el modo presentador</p>
            <h2> 
              Navegación por teclado
            </h2> 
            <p>Use la flecha del teclado <b>izq.(<)</b> y <b>der.(>)</b> para la navegación por la presentación</p>
            <h2> 
              Ocultar
            </h2> 
            <p>Presionando <b>B</b> o <b>.</b>: Ocultamos todas las slides</p>  
          </div> 
        </div>
      </div>
    </div>

    <div class="impress-progressbar"><div></div></div>

    <div class="impress-progress"></div> 

    <div id="impress-toolbar"></div> 
 

    <div id="impress">

      <div id="startSlide" class="step slide centerVH">
        <div class="">  
          <h1><a href="#overview">Bienvenidos</a></h1>  
          <h3>Presentación plantilla</h3>  
        </div> 
        <div class="notes">
          <p>Potada de la presentación</p>
          <p>Primera slide de inicio</p>
        </div>
      </div>

      <div id="indexSlide" class="step slide">
        <h1><a href="#overview">Índice</a></h1>    
        <div class="notes">
          <p>Tabla de contenidos</p>
          <p>Templates listos para usar.</p>
        </div>
      </div>

      <!--templateSlide-01-->
      <div id="templateSlide-01" class="step slide">
        <h1><a href="#indexSlide">Template-01</a></h1>  
        <div class="alert alert-warning" role="alert"> Tabla con datos </div> 
        <table class="table table-hover table-striped table-bordered table-sm">
          <thead>
            <tr>
              <th>Name</th>
              <th>Value 1</th>
              <th>Value 2</th>
              <th>Value 3</th>
            </tr>
          </thead>
          <tbody> 
            <tr >
              <td>item1</td>
              <td>5</td>
              <td>6</td>
              <td>6</td>
            </tr> 
            <tr class="table-danger">
              <td>item2</td>
              <td>7</td>
              <td>8</td>
              <td>6</td>
            </tr> 
            <tr class="table-success">
              <td>item3</td>
              <td>3</td>
              <td>4</td>
              <td>6</td>
            </tr> 
            <tr>
              <td>item4</td>
              <td>6</td>
              <td>7</td>
              <td>6</td>
            </tr>
            <tr>
              <td>item5</td>
              <td>6</td>
              <td>8</td>
              <td>6</td>
            </tr>
            <tr>
              <td>item6</td>
              <td>9</td>
              <td>6</td>
              <td>7</td>
            </tr>
          </tbody>
        </table>
        <div class="notes">Notas template 01</div>
      </div>

      <!--templateSlide-02-->
      <div id="templateSlide-02" class="step slide">
        <h1><a href="#indexSlide">Template-02</a></h1>   
        <div class="alert alert-danger" role="alert"> Texto e imágenes</div>  
        <div class="container">
          <div class="row">
            <div class="col-md-12 mb-1">
              <div class="card">
                <div class="row g-0">
                  <div class="col-md-4">
                    <img src="https://jooinn.com/images/black-n-white-1.jpg" class="img-fluid rounded-start" alt="https://jooinn.com/images/black-n-white-1.jpg">
                  </div>
                  <div class="col-md-8">
                    <div class="card-body">
                      <h5 class="card-title">Imagen 1</h5>
                      <p class="card-text">Texto descriptivo de la imagen 1.</p>
                      <p class="card-text"><small class="text-muted">Espectacular instantanea</small></p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-12 mb-1">
              <div class="card">
                <div class="row">
                  <div class="col-md-8">
                    <div class="card-body">
                      <h5 class="card-title">Imagen 2</h5>
                      <p class="card-text">Texto descriptivo de la imagen 2.</p>
                      <p class="card-text"><small class="text-muted">Belleza superlativa</small></p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <img src="https://live.staticflickr.com/7326/11561568936_d683587d9e_b.jpg" class="img-fluid rounded-start" alt="https://live.staticflickr.com/7326/11561568936_d683587d9e_b.jpg">
                  </div>
                </div>
              </div>
            </div> 
          </div>
        </div> 
        <div class="notes">Notas template 02</div>
      </div> 

      <!--templateSlide-03-->
      <div id="templateSlide-03" class="step slide">
        <h1><a href="#indexSlide">Template-03</a></h1>   
        <div class="alert alert-success" role="alert"> Gráficos dinámicos </div> 
        <div class="container">
          <div class="row">
            <div class="col-md-6" id="chart-templateSlide-02-01"></div>
            <div class="col-md-6" id="chart-templateSlide-02-02"></div> 
          </div>
          <div class="row">
            <div class="col-md-12" id="chart-templateSlide-02-03"></div>
          </div> 
        </div> 
        <div class="notes">Notas template 03</div>
      </div>

      <!--templateSlide-04-->
      <div id="templateSlide-04" class="step slide">
        <h1><a href="#indexSlide">Template-04</a></h1>   
        <div class="alert alert-primary" role="alert"> Transiciones</div> 
        <div class="notes">Notas template 04</div>
      </div>  

      <div id="endSlide" class="step slide centerVH">
        <h1><a href="#overview">Gracias</a> ;)</h1>  
      </div>

      <!--overview-->
      <div id="overview" class="step">
        <div class="notes">Presentación. Visión completa</div>
      </div>
    </div>   

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.2.1/chart.umd.min.js"></script> 
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/impress/impress.js/js/impress.js"></script>
    <script type="text/javascript">  
      console.log('Exe start');   

      //start
      $('#impress').attr({
        'data-transition-duration': 1000,
        'data-width': 1,
        'data-height': 1,
        'data-max-scale': 1,
        'data-min-scale': 1,
        'data-perspective': 1,
        'data-autoplay': 0
      });  

      function sizing(){ 
        var w = ($(window).width()>1024)?1024:$(window).width();
        var h = $(window).height();
        $('.impress-progressbar').width($(window).width()-100);
        $('.slide').width(w-100);
        $('.slide').height(h-150);
        
        var n = Math.ceil(Math.sqrt($('.slide').length)); 
        var i=0;
        for(var y=0; y<n; y++){
          for(var x=0; x<n; x++){
            $($('.slide')[i]).attr({
              'data-x': x*w,
              'data-y': y*h,
              'data-z': 1,
              'data-scale': 1,
              'data-rotate-x': 0,
              'data-rotate-y': 0,
              'data-rotate-z': 0
            }); 
            i++; 
          }
        } 
        
        $('#overview').attr({
          'data-x': (n-1)*w/2,
          'data-y': (n-1)*h/2,
          'data-z': 1,
          'data-scale': n+1,
          'data-rotate-x': +0.005,
          'data-rotate-y': -0.005,
          'data-rotate-z': 1.5
        });
      } 

      sizing();
      $(window).on('resize',sizing);  
      var apiImpress = impress('impress');
      apiImpress.init();    

      //styling impress by bootstrap
      function addImpressNavigation(){
        $('#impress-navigation-ui-prev').addClass('btn btn-secondary btn-sm');
        $('#impress-navigation-ui-select').addClass('form-select form-select-sm');
        $('#impress-navigation-ui-next').addClass('btn btn-secondary btn-sm');
        $('#impress-autoplay-playpause').remove(); 
        $('#impress-toolbar').append('<span><button id="helpBtn" class="btn btn-secondary btn-sm" type="button" data-bs-toggle="modal" data-bs-target="#helpModal"><i class="fa fa-question-circle"></i></button></span>');
        $('#impress-toolbar').append('<span><button id="printBtn" class="btn btn-secondary btn-sm" type="button"><i class="fa fa-print"></i></button></span>');
        $('#impress-toolbar').addClass('input-group');
        $('#impress-toolbar span').addClass('input-group-text'); 
        //impress action
        $('#fullScreenBtn').off('click');
        $('#fullScreenBtn').on('click',function(){
          var elem = document.documentElement;
          if ( !document.fullscreenElement ) {
              elem.requestFullscreen();
          }
        });
        $('#consoleBtn').off('click');
        $('#consoleBtn').on('click',function(){ 
          impressConsole().open();
        });   
        $('#printBtn').off('click');
        $('#printBtn').on('click',function(){  
          apiImpress.tear(); 
          $('body').append('<div id="printFrame"></div>');
          $('.slide').each(function(){ 
            $('#printFrame').append('<div>'+$(this).html()+'</div>');
          }); 
           
          var canvas = document.getElementById('printFrame').getElementsByTagName('canvas');
          var images = [];
          for(var i=0; i<canvas.length; i++){ 
            images.push(canvas[i].toDataURL("image/png"));
          }

          $('#printFrame canvas').each(function(i,e){
            $(this).after('<img src="'+images[i]+'" class="img-fluid">');
          });
          $('#printFrame canvas').remove();
           
          window.print();   
          $('#printFrame').remove(); 
          sizing();
          apiImpress = impress('impress');
          apiImpress.init(); 
          addImpressNavigation();
          createChart();
        }); 
      }
      addImpressNavigation(); 

      //Templates init 
      var $templates = $('.slide').filter(function(i,e){ 
        return $(e).attr('id').indexOf('templateSlide')!==-1;
      });  
      $('#indexSlide').append('<ul></ul>');
      $templates.each(function(){ 
        $('#indexSlide ul').append('<li><a href="#'+$(this).attr('id')+'">'+$(this).attr('id')+'</a></li>');
      }); 

      //Templates grah  
      function createChart(){  
        $('#chart-templateSlide-02-01').height($(window).height()/4);
        $('#chart-templateSlide-02-02').height($(window).height()/4);
        $('#chart-templateSlide-02-03').height($(window).height()/4);
        $('#chart-templateSlide-02-01').html('<canvas></canvas>');
        $('#chart-templateSlide-02-02').html('<canvas></canvas>');
        $('#chart-templateSlide-02-03').html('<canvas></canvas>');
        new Chart(document.getElementById('chart-templateSlide-02-01').getElementsByTagName('canvas')[0],{
          type: 'bar',
          data: { 
            labels: ['1º','2º'],
            datasets: [
              {
                label: 'Dataset 1',
                data: [1, 2, 3]
              },
              {
                label: 'Dataset 2',
                data: [3, 4, 3]
              }
            ]
          },
          options: {  
            responsive: true,
            maintainAspectRatio: false
          } 
        });
        new Chart(document.getElementById('chart-templateSlide-02-02').getElementsByTagName('canvas')[0],{
          type: 'pie',
          data: {
            labels: [
              'data 1',
              'data 2',
              'data 3'
            ],
            datasets: [{
              label: 'My First Dataset',
              data: [300, 50, 100] 
            }]
          },
          options: {  
            responsive: true,
            maintainAspectRatio: false
          } 
        });
        new Chart(document.getElementById('chart-templateSlide-02-03').getElementsByTagName('canvas')[0],{
          type: 'line',
          data: { 
            labels: ['1º','2º','3º','4º','5º','5º','6º','7º','8º'],
            datasets: [
              {
                label: 'Dataset 1',
                data: [1, 2, 3, 2, 3, 3, 1, 2, 3]
              },
              {
                label: 'Dataset 2',
                data: [3, 4, 1, 1, 2, 1, 3, 4, 5]
              }
            ]
          },
          options: {  
            responsive: true,
            maintainAspectRatio: false
          } 
        });
      }
      createChart();

      console.log('Exe end'); 
    </script>
  </body>
</html>
